<?xml version = "1.0" encoding = "UTF-8"?>

<jonas-ejb-jar xmlns="http://www.objectweb.org/jonas/ns"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.objectweb.org/jonas/ns
    http://www.objectweb.org/jonas/ns/jonas-ejb-jar_4_8.xsd" >

	<jonas-session>
        <ejb-name>SB_AboutMe</ejb-name>
        <jndi-name>SB_AboutMeHome</jndi-name>
    </jonas-session>

	<jonas-session>
        <ejb-name>SB_StoreBuyNow</ejb-name>
        <jndi-name>SB_StoreBuyNowHome</jndi-name>
    </jonas-session>
    
	<jonas-session>
        <ejb-name>SB_BuyNow</ejb-name>
        <jndi-name>SB_BuyNowHome</jndi-name>
    </jonas-session>

   	<jonas-session>
        <ejb-name>SB_ViewBidHistory</ejb-name>
        <jndi-name>SB_ViewBidHistoryHome</jndi-name>
    </jonas-session>

	<jonas-session>
        <ejb-name>SB_StoreBid</ejb-name>
        <jndi-name>SB_StoreBidHome</jndi-name>
    </jonas-session>
    
	<jonas-session>
        <ejb-name>SB_PutBid</ejb-name>
        <jndi-name>SB_PutBidHome</jndi-name>
    </jonas-session>

	<jonas-session>
        <ejb-name>SB_StoreComment</ejb-name>
        <jndi-name>SB_StoreCommentHome</jndi-name>
    </jonas-session>
    
	<jonas-session>
        <ejb-name>SB_PutComment</ejb-name>
        <jndi-name>SB_PutCommentHome</jndi-name>
    </jonas-session>

	<jonas-session>
        <ejb-name>SB_ViewUserInfo</ejb-name>
        <jndi-name>SB_ViewUserInfoHome</jndi-name>
    </jonas-session>

   	<jonas-session>
        <ejb-name>SB_ViewItem</ejb-name>
        <jndi-name>SB_ViewItemHome</jndi-name>
    </jonas-session>

    <jonas-session>
        <ejb-name>SB_RegisterUser</ejb-name>
        <jndi-name>SB_RegisterUserHome</jndi-name>
    </jonas-session>  

    <jonas-session>
        <ejb-name>SB_RegisterItem</ejb-name>
        <jndi-name>SB_RegisterItemHome</jndi-name>
    </jonas-session>  

   <jonas-session>
        <ejb-name>SB_Auth</ejb-name>
        <jndi-name>SB_AuthHome</jndi-name>
    </jonas-session>
    
     <jonas-session>
        <ejb-name>SB_SearchItemsByCategory</ejb-name>
        <jndi-name>SB_SearchItemsByCategoryHome</jndi-name>
    </jonas-session>

   <jonas-session>
        <ejb-name>SB_SearchItemsByRegion</ejb-name>
        <jndi-name>SB_SearchItemsByRegionHome</jndi-name>
    </jonas-session>

   <jonas-session>
        <ejb-name>SB_BrowseRegions</ejb-name>
        <jndi-name>SB_BrowseRegionsHome</jndi-name>
    </jonas-session>
    
    <jonas-session>
        <ejb-name>SB_BrowseCategories</ejb-name>
        <jndi-name>SB_BrowseCategoriesHome</jndi-name>
    </jonas-session>

<!--
    <jonas-session>
        <ejb-name>SB_IDManager</ejb-name>
        <jndi-name>SB_IDManagerHome</jndi-name>
    </jonas-session>
-->

    <jonas-entity>
        <ejb-name>Region</ejb-name>
        <jndi-name>RegionHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           	<jndi-name>mysql</jndi-name>
          	<jdbc-table-name>regions</jdbc-table-name>
            <automatic-pk>true</automatic-pk>
          	<cmp-field-jdbc-mapping>
              	<field-name>id</field-name>
          		<jdbc-field-name>id</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>name</field-name>
          		<jdbc-field-name>name</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>

    <jonas-entity>
        <ejb-name>Category</ejb-name>
        <jndi-name>CategoryHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>categories</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
          	<cmp-field-jdbc-mapping>
              	<field-name>id</field-name>
          		<jdbc-field-name>id</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>name</field-name>
          		<jdbc-field-name>name</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>
  
       <jonas-entity>
        <ejb-name>User</ejb-name>
        <jndi-name>UserHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>users</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
          	<cmp-field-jdbc-mapping>
              	<field-name>id</field-name>
          		<jdbc-field-name>id</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>firstName</field-name>
          		<jdbc-field-name>firstname</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>lastName</field-name>
          		<jdbc-field-name>lastname</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>nickName</field-name>
          		<jdbc-field-name>nickname</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>password</field-name>
          		<jdbc-field-name>password</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
              	<field-name>email</field-name>
          		<jdbc-field-name>email</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
        		<field-name>rating</field-name>
                <jdbc-field-name>rating</jdbc-field-name>
        	</cmp-field-jdbc-mapping>
        	<cmp-field-jdbc-mapping>
                <field-name>balance</field-name>
                <jdbc-field-name>balance</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>creationDate</field-name>
                <jdbc-field-name>creation_date</jdbc-field-name>
            </cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>
    
    <jonas-entity>
        <ejb-name>Item</ejb-name>
        <jndi-name>ItemHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>items</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
            <cmp-field-jdbc-mapping>
                <field-name>id</field-name>
                <jdbc-field-name>id</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>name</field-name>
                <jdbc-field-name>name</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>description</field-name>
                <jdbc-field-name>description</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>initialPrice</field-name>
                <jdbc-field-name>initial_price</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>quantity</field-name>
                <jdbc-field-name>quantity</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>reservePrice</field-name>
                <jdbc-field-name>reserve_price</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>buyNow</field-name>
                <jdbc-field-name>buy_now</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>nbOfBids</field-name>
                <jdbc-field-name>nb_of_bids</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>maxBid</field-name>
                <jdbc-field-name>max_bid</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>startDate</field-name>
                <jdbc-field-name>start_date</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>endDate</field-name>
                <jdbc-field-name>end_date</jdbc-field-name>
            </cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>

  <jonas-entity>
        <ejb-name>Bid</ejb-name>
        <jndi-name>BidHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>bids</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
            <cmp-field-jdbc-mapping>
                <field-name>id</field-name>
                <jdbc-field-name>id</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>quantity</field-name>
                <jdbc-field-name>qty</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>bid</field-name>
                <jdbc-field-name>bid</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>maxBid</field-name>
                <jdbc-field-name>max_bid</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>date</field-name>
                <jdbc-field-name>date</jdbc-field-name>
            </cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>
   
   <jonas-entity>
        <ejb-name>Comment</ejb-name>
        <jndi-name>CommentHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>comments</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
            <cmp-field-jdbc-mapping>
                <field-name>id</field-name>
                <jdbc-field-name>id</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>rating</field-name>
                <jdbc-field-name>rating</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>date</field-name>
                <jdbc-field-name>date</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>comment</field-name>
                <jdbc-field-name>comment</jdbc-field-name>
            </cmp-field-jdbc-mapping>
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>
   
   <jonas-entity>
        <ejb-name>BuyNow</ejb-name>
        <jndi-name>BuyNowHome</jndi-name>
        <cleanup>none</cleanup>
        <jdbc-mapping>
           <jndi-name>mysql</jndi-name>
           <jdbc-table-name>buy_now</jdbc-table-name>
           <automatic-pk>true</automatic-pk>
            <cmp-field-jdbc-mapping>
                <field-name>id</field-name>
                <jdbc-field-name>id</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>quantity</field-name>
                <jdbc-field-name>qty</jdbc-field-name>
            </cmp-field-jdbc-mapping>
            <cmp-field-jdbc-mapping>
                <field-name>date</field-name>
                <jdbc-field-name>date</jdbc-field-name>
            </cmp-field-jdbc-mapping>            
        </jdbc-mapping>         
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>

<!--
    <jonas-entity>
        <ejb-name>IDs</ejb-name>
        <jndi-name>IDsHome</jndi-name>
        <cleanup>none</cleanup>  
        <jdbc-mapping>
          <jndi-name>mysql</jndi-name>
          <jdbc-table-name>ids</jdbc-table-name>
          <cmp-field-jdbc-mapping>
              <field-name>id</field-name>
              <jdbc-field-name>id</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>categoryCount</field-name>
              <jdbc-field-name>category</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>regionCount</field-name>
              <jdbc-field-name>region</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>userCount</field-name>
              <jdbc-field-name>users</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>itemCount</field-name>
              <jdbc-field-name>item</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>commentCount</field-name>
              <jdbc-field-name>comment</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>bidCount</field-name>
              <jdbc-field-name>bid</jdbc-field-name>
          </cmp-field-jdbc-mapping>
          <cmp-field-jdbc-mapping>
              <field-name>buyNowCount</field-name>
              <jdbc-field-name>buyNow</jdbc-field-name>
          </cmp-field-jdbc-mapping>
        </jdbc-mapping>   
        <lock-policy>container-read-write</lock-policy>
   </jonas-entity>
-->

   <jonas-ejb-relation>
       <ejb-relation-name>Item-Category</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Item-has-a-Category</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>category</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Item-User</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Item-has-a-User</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>seller</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>User-Region</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>User-has-a-Region</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>region</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Bid-User</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Bid-has-a-User</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>user_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Bid-Item</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Bid-has-a-Item</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>item_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>BuyNow-User</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>BuyNow-has-a-User</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>buyer_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>BuyNow-Item</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>BuyNow-has-a-Item</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>item_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Comment-FromUser</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Comment-has-a-FromUser</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>from_user_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Comment-ToUser</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Comment-has-a-ToUser</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>to_user_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

   <jonas-ejb-relation>
       <ejb-relation-name>Comment-Item</ejb-relation-name>
       <jonas-ejb-relationship-role>
           <ejb-relationship-role-name>Comment-has-a-Item</ejb-relationship-role-name>
           <foreign-key-jdbc-mapping>
               <foreign-key-jdbc-name>item_id</foreign-key-jdbc-name>
               <!--<key-jdbc-name>id</key-jdbc-name>-->
           </foreign-key-jdbc-mapping>
       </jonas-ejb-relationship-role>
    </jonas-ejb-relation>

</jonas-ejb-jar>

